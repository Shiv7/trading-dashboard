# Server Configuration
server.port=8085
spring.application.name=trading-dashboard

# MongoDB Configuration - MUST match tradeExecutionModule database
spring.data.mongodb.uri=mongodb://localhost:27017/tradeIngestion
spring.data.mongodb.auto-index-creation=true

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.consumer.group-id=trading-dashboard-v2
# FIX BUG #22: Use "latest" for real-time dashboard to avoid replaying old messages on restart
# Change to "earliest" if you need to catch up on missed messages
spring.kafka.consumer.auto-offset-reset=latest
# FIX BUG #23: Kafka tuning for dashboard throughput
spring.kafka.listener.concurrency=3
spring.kafka.consumer.max-poll-records=500

# Kafka Topics
kafka.topics.family-candle-1m=family-candle-1m
kafka.topics.family-candle-5m=family-candle-5m
kafka.topics.family-candle-15m=family-candle-15m
kafka.topics.family-candle-30m=family-candle-30m
kafka.topics.signals-curated=trading-signals-curated
kafka.topics.trade-outcomes=trade-outcomes
kafka.topics.regime-index=regime-index-output
kafka.topics.regime-security=regime-security-output

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Logging
logging.level.com.kotsin.dashboard=INFO
logging.level.org.springframework.web.socket=DEBUG
logging.pattern.console=%d{HH:mm:ss.SSS} %-5level [%thread] %logger{36} - %msg%n

# Swagger / OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method

# Redis Configuration - Using database 0 where virtual positions are stored
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0

# TradeExecutionModule Connection (for order proxy)
execution.service.url=http://localhost:8089
execution.service.timeout=5000

